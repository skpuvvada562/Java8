package com.java8.features;

import java.util.Arrays;
import java.util.List;
import java.util.function.Function;
import java.util.function.Predicate;

import com.java8.pojo.Employee;

public class Function8Java {

	//Using provided input perform some operation and return result (input -> perform operation -> output
	// Ex: provide i value return square of it i-> i*i
	// s->s.length here providing string value and returning length
	
	public int square(int i) {
		return i*i;
	}
	public static void main(String[] args) {
		
		Function8Java fu=new Function8Java();
		System.out.println(fu.square(5));
		
		Function<Integer,Integer> f=i->i*i;
		System.out.println("functional interface:::"+f.apply(5));
		
		Function<List<Employee>,Employee> empFun=elist->{
			for(Employee e:elist) {
				Predicate<Employee> p1=e1->e1.getAge()>30;
				if(p1.test(e))
					return e;
			}
			return null;
		};
		System.out.println(empFun.apply(Arrays.asList(new Employee(1l,"sandeep",30),new Employee(1l,"Jagan",35))));
		
		//Function Chaining means combining more than one function into one
		// f1.andThen(f2).apply(i) means first f1 followed by f2
		//f1.compose(f2).apply(i) means first f2 and then f1
		
		//Example
		
		Function<Integer,Integer> f1=i->2*i;
		Function<Integer,Integer> f2=i->i*i*i;
		
		System.out.println("function chaining andThen concept=="+f1.andThen(f2).apply(2));
		
		//f1=2*2 and then f2=4*4*4 = 64//output
		System.out.println("function chaining compose=="+f1.compose(f2).apply(2));
		//first it applies f2=2*2*2 and f1=2*8 = 16 //output
		
		
	}
}
